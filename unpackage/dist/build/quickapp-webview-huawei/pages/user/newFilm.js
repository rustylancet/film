(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/newFilm"],{"05e9":function(e,n,o){},"16b0":function(e,n,o){"use strict";o.r(n);var t=o("2809"),u=o("e5fb");for(var i in u)"default"!==i&&function(e){o.d(n,e,(function(){return u[e]}))}(i);o("f9d2");var a,r=o("f0c5"),c=Object(r["a"])(u["default"],t["b"],t["c"],!1,null,"2f905192",null,!1,t["a"],a);n["default"]=c.exports},2809:function(e,n,o){"use strict";o.d(n,"b",(function(){return u})),o.d(n,"c",(function(){return i})),o.d(n,"a",(function(){return t}));var t={uGap:function(){return o.e("node-modules/uview-ui/components/u-gap/u-gap").then(o.bind(null,"89d5"))},uForm:function(){return o.e("node-modules/uview-ui/components/u-form/u-form").then(o.bind(null,"db44"))},uFormItem:function(){return Promise.all([o.e("common/vendor"),o.e("node-modules/uview-ui/components/u-form-item/u-form-item")]).then(o.bind(null,"40c9"))},uInput:function(){return Promise.all([o.e("common/vendor"),o.e("node-modules/uview-ui/components/u-input/u-input")]).then(o.bind(null,"74a9"))},uRadioGroup:function(){return Promise.all([o.e("common/vendor"),o.e("node-modules/uview-ui/components/u-radio-group/u-radio-group")]).then(o.bind(null,"5480"))},uRadio:function(){return o.e("node-modules/uview-ui/components/u-radio/u-radio").then(o.bind(null,"bb7e"))},uCalendar:function(){return o.e("node-modules/uview-ui/components/u-calendar/u-calendar").then(o.bind(null,"49a5"))},uCheckboxGroup:function(){return Promise.all([o.e("common/vendor"),o.e("node-modules/uview-ui/components/u-checkbox-group/u-checkbox-group")]).then(o.bind(null,"3c71"))},uCheckbox:function(){return o.e("node-modules/uview-ui/components/u-checkbox/u-checkbox").then(o.bind(null,"3566"))},uImage:function(){return o.e("node-modules/uview-ui/components/u-image/u-image").then(o.bind(null,"b834"))},uButton:function(){return o.e("node-modules/uview-ui/components/u-button/u-button").then(o.bind(null,"3563"))}},u=function(){var e=this,n=e.$createElement;e._self._c;e._isMounted||(e.e0=function(n){e.show=!0})},i=[]},"3f6f":function(e,n,o){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=u(o("a34a"));function u(e){return e&&e.__esModule?e:{default:e}}function i(e,n,o,t,u,i,a){try{var r=e[i](a),c=r.value}catch(l){return void o(l)}r.done?n(c):Promise.resolve(c).then(t,u)}function a(e){return function(){var n=this,o=arguments;return new Promise((function(t,u){var a=e.apply(n,o);function r(e){i(a,t,u,r,c,"next",e)}function c(e){i(a,t,u,r,c,"throw",e)}r(void 0)}))}}var r=function(){o.e("components/uni-nav-bar/uni-nav-bar").then(function(){return resolve(o("c383"))}.bind(null,o)).catch(o.oe)},c=function(){o.e("components/common/footerTab").then(function(){return resolve(o("e346"))}.bind(null,o)).catch(o.oe)},l={name:"newFilm",components:{uniNavBar:r,footerTab:c},data:function(){return{date:{result:"X年X月X日"},show:!1,showJob:!1,mode:"date",img:"",height:e.getSystemInfoSync().screenHeight-85,form:{name:"",detail:"",type:"",time:"X年X月X日",job:[]},jobList:[{value:"1",name:"导演",checked:!1},{value:"2",name:"编剧",checked:!1},{value:"3",name:"摄影师",checked:!1},{value:"4",name:"美术",checked:!1},{value:"5",name:"灯光",checked:!1},{value:"6",name:"录音",checked:!1},{value:"7",name:"后期",checked:!1},{value:"8",name:"制片",checked:!1}],radioList:[{value:"1",name:"电影",disabled:!1},{value:"2",name:"电视剧",disabled:!1},{value:"3",name:"话剧",disabled:!1},{value:"4",name:"音乐剧",disabled:!1},{value:"5",name:"展览",disabled:!1}],switchVal:!1}},methods:{back:function(){e.navigateBack()},jump:function(e,n){this.$Router.push({path:e,query:n})},change:function(e){this.form.time=e.result,console.log(e)},picture:function(){var n=this;e.chooseImage({count:1,sizeType:["compressed"],success:function(e){var o=e.tempFilePaths[0];n.img=o}})},checkboxGroupChange:function(e){this.job=e,this.form.job=e},submitForm:function(){var n=this;return a(t.default.mark((function o(){var u,i,a,r;return t.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:for(a in u=n.form,i=0,u)u.hasOwnProperty(a)&&(null===u[a]||""===u[a]?e.showToast({icon:"none",position:"center",title:"所有项不能为空"}):i++);if(5!=i){o.next=7;break}return r=n,o.next=7,n.$request({url:"films/",method:"post",data:{film_name:n.form.name,type:n.form.type,time:n.form.time,detail:n.form.detail,job:n.job},success:function(n){e.uploadFile({url:"http://47.96.228.152:8000/upload/picture/"+n.data,method:"post",filePath:r.img,name:"picture",success:function(n){e.showToast({icon:"none",position:"center",title:"新建成功,即将跳转"})}}),setTimeout((function(){r.jump("/pages/film/filmDetail",{film_id:n.data})}),1e3)},fail:function(n){console.log(n),e.showToast({icon:"none",position:"center",title:"404 error"})}});case 7:case"end":return o.stop()}}),o)})))()}}};n.default=l}).call(this,o("8adf")["default"])},e5fb:function(e,n,o){"use strict";o.r(n);var t=o("3f6f"),u=o.n(t);for(var i in t)"default"!==i&&function(e){o.d(n,e,(function(){return t[e]}))}(i);n["default"]=u.a},f0fa:function(e,n,o){"use strict";(function(e){o("a9fa");t(o("66fd"));var n=t(o("16b0"));function t(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,o("8adf")["createPage"])},f9d2:function(e,n,o){"use strict";var t=o("05e9"),u=o.n(t);u.a}},[["f0fa","common/runtime","common/vendor"]]]);